<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>scoreboard</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="design_files/css/style.css">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">

        <script type="text/javascript" src="jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src="floating-wpp.min.js"></script>
        <link rel="stylesheet" href="floating-wpp.min.css">

        <!-- MATERIAL DESIGN ICONIC FONT -->
        <link rel="stylesheet" href="design_files/fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
                
        <!-- STYLE CSS -->
        <link rel="stylesheet" href="design_files/css/style.css">
    
        <!-- javadev -->

        <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>

    </head>

    <body >

        <audio loop autoplay id="autoplay">
            <source src="sona.mp3" type="audio/mpeg">
        </audio>

        <section class="toursliderabc">
            <img name="imgid" class="slideidaaab" src="./design_files/images/fondscored.gif" alt="image">
            <img name="imgid" class="slideidaaab" src="./design_files/images/fondscoree.gif" alt="image">
            <img name="imgid" class="slideidaaab" src="./design_files/images/fondscoreg.gif" alt="image">
            <img name="imgid" class="slideidaaab" src="./design_files/images/fondscorec.gif" alt="image">
            

            <section class="score">
     
                <b style="font-size: 30px; margin-left: 10px; color: bisque; " >SCOREBOARD LIFE</b>
                <b style="font-size: 10px; color: rgb(136, 253, 69);" id="nompart" >SCOREBOARD LIFE</b>
                
                <div class="form-group container-login100-form-btn" style="position: absolute; right: 0; margin-right: 30px; margin-top: -30px;">
                    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
                    <lottie-player class="lottiescriptc" src="https://assets2.lottiefiles.com/packages/lf20_yb7fmrm7.json"
                        background="transparent" speed="1"  loop autoplay></lottie-player>
                </div>

                <button id="valider" style=" width: 100px; height: 30px; position: absolute; right: 0; border-radius: 6px; margin-top: 20px; 
                    background-color: rgb(0, 255, 166); color: rgb(0, 0, 0); margin-right: 40px;
                   top: 0; box-shadow: -1px 1px 9px #838109d2; font-size: 10px;" type="button" onclick="send()">
                        actualiser
                    <i class="zmdi zmdi-arrow-right"></i>
                </button>

                <div class="entete">
                    <b class="boxentete" id="listplayer" style="text-align: start; border-top-left-radius: 5px; border-bottom-left-radius: 5px; 
                    padding-left: 15px; width: 50px; margin-left: 15px; background-color: transparent;" onclick="play()" >All</b>                
                    <b class="boxentete" id="listplayer" style="text-align: start; border-top-left-radius: 5px; border-bottom-left-radius: 5px; 
                    padding-left: 15px; width: 230px; margin-left: 15px; " onclick="play()" >Players ...</b>                
                    <b class="boxentete" >1</b>
                    <b class="boxentete" >2</b>                
                    <b class="boxentete" >3</b>                
                    <b class="boxentete" >4</b>                
                    <b class="boxentete" >5</b>                
                    <b class="boxentete" >6</b> 
                    <b class="boxentete" >7</b>                
                    <b class="boxentete" >8</b>                
                    <b class="boxentete" >9</b>                
                    <b class="boxentete" >10</b>                
                    <b class="boxentete" >11</b>                
                    <b class="boxentete" >12</b> 
                    <b class="boxentete" >13</b>                
                    <b class="boxentete" >14</b>                
                    <b class="boxentete" >15</b>                
                    <b class="boxentete" >16</b>                
                    <b class="boxentete" >17</b>                
                    <b class="boxentete" style="border-top-right-radius: 5px; border-bottom-right-radius: 5px;
                    width: 45px;" >18</b>                
                    
                    <b class="boxentete" style="background-color: rgb(189, 176, 0); border-radius: 5px; width: 50px; margin-left: 5px;" >score</b>                
                </div>
                <div class="entete">
                    <b class="boxentete" id="total" style="text-align: start; border-top-left-radius: 5px; border-bottom-left-radius: 5px; 
                    padding-left: 15px; width: 50px; margin-left: 15px; background-color: transparent;" onclick="play()" ></b>                
                    <b class="boxentete" id="players" style="text-align: start; border-top-left-radius: 5px; border-bottom-left-radius: 5px; 
                    padding-left: 15px; width: 230px; margin-left: 15px; background-color: transparent; " ></b>                
                    <b class="boxentetej" style="margin-left: 5px;" id="h1" ></b>
                    <b class="boxentetej" id="h2" ></b>
                    <b class="boxentetej" id="h3" ></b>
                    <b class="boxentetej" id="h4" ></b>
                    <b class="boxentetej" id="h5" ></b>
                    <b class="boxentetej" id="h6" ></b>
                    <b class="boxentetej" id="h7" ></b>
                    <b class="boxentetej" id="h8" ></b>
                    <b class="boxentetej" id="h9" ></b>
                    <b class="boxentetej" id="h10" ></b>
                    <b class="boxentetej" id="h11" ></b>
                    <b class="boxentetej" id="h12" ></b>
                    <b class="boxentetej" id="h13" ></b>
                    <b class="boxentetej" id="h14" ></b>
                    <b class="boxentetej" id="h15" ></b>
                    <b class="boxentetej" id="h16" ></b>
                    <b class="boxentetej" id="h17" ></b>
                    <b class="boxentetej" id="h18" ></b>
                               
                    <b class="boxentete" id="net" style="background-color: rgb(189, 176, 0); border-radius: 5px; width: 50px; margin-left: 13px;" ></b>                
                </div>
                                
            </section>




        
        </section>


  


    </body>


    <script>
        
        const nameopen = localStorage.getItem('openname');
        
        function play(){
            document.getElementById('autoplay').play();
        }


        var firstindex=0;
        function automaticslide(){
            setTimeout(automaticslide, 10000);
            var pics;
            const img = document.getElementsByClassName('slideidaaab');
            for(pics=0; pics<img.length; pics++) {
                img[pics].style.display="none";
            }
            firstindex++;
            if(firstindex > img.length) {
                firstindex = 1;
            }
            img[firstindex - 1].style.display="block";
        }
        automaticslide();

        const firebaseConfig = {
            databaseURL : "https://nlogagolf-ed63e-default-rtdb.asia-southeast1.firebasedatabase.app",
            apiKey: "AIzaSyCDKDeQxFPyVRMyMaxvcOFrxva2Fn7iKnw",
            authDomain: "nlogagolf-ed63e.firebaseapp.com",
            projectId: "nlogagolf-ed63e",
            storageBucket: "nlogagolf-ed63e.appspot.com",
            messagingSenderId: "104686743459",
            appId: "1:104686743459:web:c380b6e47ebb21d413f416",
            measurementId: "G-6BW97RHV89"
        };
        firebase.initializeApp(firebaseConfig)
    
        const database = firebase.database();



        
        function send(){                           

            play();
/*
            var joueur1 = document.getElementById("joueur1");                
            var joueur2 = document.getElementById("joueur2");                
            var joueur3 = document.getElementById("joueur3");

            var a1 = document.getElementById("a1");                
            var a2 = document.getElementById("a2");                
            var a3 = document.getElementById("a3");
            var a4 = document.getElementById("a4");                
            var a5 = document.getElementById("a5");                
            var a6 = document.getElementById("a6");
            var a7 = document.getElementById("a7");                
            var a8 = document.getElementById("a8");                
            var a9 = document.getElementById("a9");
            var a10 = document.getElementById("a10");                
            var a11 = document.getElementById("a11");                
            var a12 = document.getElementById("a12");                
            var a13 = document.getElementById("a13");
            var a14 = document.getElementById("a14");                
            var a15 = document.getElementById("a15");                
            var a16 = document.getElementById("a16");
            var a17 = document.getElementById("a17");                
            var a18 = document.getElementById("a18");


            var b1 = document.getElementById("b1");                
            var b2 = document.getElementById("b2");                
            var b3 = document.getElementById("b3");
            var b4 = document.getElementById("b4");                
            var b5 = document.getElementById("b5");                
            var b6 = document.getElementById("b6");
            var b7 = document.getElementById("b7");                
            var b8 = document.getElementById("b8");                
            var b9 = document.getElementById("b9");
            var b10 = document.getElementById("b10");                
            var b11 = document.getElementById("b11");                
            var b12 = document.getElementById("b12");                
            var b13 = document.getElementById("b13");
            var b14 = document.getElementById("b14");                
            var b15 = document.getElementById("b15");                
            var b16 = document.getElementById("b16");
            var b17 = document.getElementById("b17");                
            var b18 = document.getElementById("b18");


            var c1 = document.getElementById("c1");                
            var c2 = document.getElementById("c2");                
            var c3 = document.getElementById("c3");
            var c4 = document.getElementById("c4");                
            var c5 = document.getElementById("c5");                
            var c6 = document.getElementById("c6");
            var c7 = document.getElementById("c7");                
            var c8 = document.getElementById("c8");                
            var c9 = document.getElementById("c9");
            var c10 = document.getElementById("c10");                
            var c11 = document.getElementById("c11");                
            var c12 = document.getElementById("c12");                
            var c13 = document.getElementById("c13");
            var c14 = document.getElementById("c14");                
            var c15 = document.getElementById("c15");                
            var c16 = document.getElementById("c16");
            var c17 = document.getElementById("c17");                
            var c18 = document.getElementById("c18");

            var p = 0;

            var dataRef = firebase.database().ref("open");

            
            dataRef.on("value" , function(snapshot){
                        var i = 0;
                        snapshot.forEach(function(element){
                            if(element.key == codesearch ) {
                                i=1;
                                document.querySelector('#joueur1').innerHTML ="";

                                nompart.innerHTML="Partie n° " + codesearch;

                                var dataRefb = firebase.database().ref("open").child(codesearch);
                                
                                

                            }
                        });
                    
                        if ( i == 0 ) {
                            load.style.display = "none";
                            window.alert("aucune Partie trouvée au code : " + codesearch + " veuillez saisir votre mot de passe comme lors de l'enregistrement");
                        }
                    
                    });
*/

        }










        window.alert(nameopen);
        var nompart = document.getElementById("nompart");                
        nompart.innerHTML= nameopen;
        var dataRefauto = firebase.database().ref("open").child(nameopen);
        dataRefauto.on("value" , function(snapshot){
            document.querySelector('#total').innerHTML = "";
            document.querySelector('#players').innerHTML = "";
            document.querySelector('#h1').innerHTML = "";
            document.querySelector('#h2').innerHTML = "";
            document.querySelector('#h3').innerHTML = "";
            document.querySelector('#h4').innerHTML = "";
            document.querySelector('#h5').innerHTML = "";
            document.querySelector('#h6').innerHTML = "";
            document.querySelector('#h7').innerHTML = "";
            document.querySelector('#h8').innerHTML = "";
            document.querySelector('#h9').innerHTML = "";
            document.querySelector('#h10').innerHTML = "";
            document.querySelector('#h11').innerHTML = "";
            document.querySelector('#h12').innerHTML = "";
            document.querySelector('#h13').innerHTML = "";
            document.querySelector('#h14').innerHTML = "";
            document.querySelector('#h15').innerHTML = "";
            document.querySelector('#h16').innerHTML = "";
            document.querySelector('#h17').innerHTML = "";
            document.querySelector('#h18').innerHTML = "";
            document.querySelector('#net').innerHTML = "";
            
            snapshot.forEach(function(element){ 
                document.querySelector('#total').innerHTML+=`<div>${ ( (element.key).substring(0, 4) ) }</div>`
                document.querySelector('#players').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [1] ) + " " + " " +  ( ( (element.key).split(" ") ) [2] )   }</div>`
                document.querySelector('#h1').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [3] ) }</div>`
                document.querySelector('#h2').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [4] ) }</div>`
                document.querySelector('#h3').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [5] ) }</div>`
                document.querySelector('#h4').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [6] ) }</div>`
                document.querySelector('#h5').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [7] ) }</div>`
                document.querySelector('#h6').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [8] ) }</div>`
                document.querySelector('#h7').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [9] ) }</div>`
                document.querySelector('#h8').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [10] ) }</div>`
                document.querySelector('#h9').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [11] ) }</div>`
                document.querySelector('#h10').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [12] ) }</div>`
                document.querySelector('#h11').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [13] ) }</div>`
                document.querySelector('#h12').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [14] ) }</div>`
                document.querySelector('#h13').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [15] ) }</div>`
                document.querySelector('#h14').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [16] ) }</div>`
                document.querySelector('#h15').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [17] ) }</div>`
                document.querySelector('#h16').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [18] ) }</div>`
                document.querySelector('#h17').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [19] ) }</div>`
                document.querySelector('#h18').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [20] ) }</div>`
                document.querySelector('#net').innerHTML+=`<div>${ ( ( (element.key).split(" ") ) [21] ) }</div>`

                
            });
        });


    </script>
    

</html>