<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>TennisCamer</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="design_files/css/style.css">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
               
        <script type="text/javascript" src="jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src="floating-wpp.min.js"></script>
        <link rel="stylesheet" href="floating-wpp.min.css">

        <!-- MATERIAL DESIGN ICONIC FONT -->
        <link rel="stylesheet" href="design_files/fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
                
        <!-- STYLE CSS -->
        <link rel="stylesheet" href="design_files/css/style.css">
    
        <!-- javadev -->

        <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>
     
    </head>

    <body style="background-color: rgb(8, 70, 90);">

        <header>

            <input type="checkbox" id="menu-bar">
            <label for="menu-bar">
                <img class="imgmenu" src="./design_files/images/images/menubtnblanc.png" alt="image">
            </label>

            <div class="menutop">
                <ul>

                    <li class="boutonm" > <img style="width: 100%; height: 250px;" src="./design_files/images/images/affichephoneapp.jpeg" alt="image"> </li>
                    
                    <li class="boutonm"><a style=" color: rgb(0, 0, 0); font-size: 7px; font-weight: 300; text-align: center;
                        width: 100%; font-family: 'Poppins', sans-serif;">By Kevdesign</a>
                    </li>

                    <li class="boutonm" > <img style="width: 94%; margin-left: 3%; ; height: 2px;" src="./design_files/images/garoua/affichegaroua.jpg" alt="image"> </li>

                    <li class="boutonm"><a style=" color: rgb(0, 0, 0); font-size: 15px; font-weight: 700; padding : 2px 20px; 
                    font-family: 'Poppins', sans-serif; cursor: pointer; "
                        onclick="j30douala();">+ J30 DOUALA</a>
                    </li>

                    <li class="boutonm"><a style=" color: rgb(0, 0, 0); font-size: 15px; font-weight: 700; padding : 2px 20px; 
                    font-family: 'Poppins', sans-serif; cursor: pointer; "
                        onclick="opengaroua();">+ Garoua Sahel</a>
                    </li>

                   <li class="boutonm"><a style=" color: rgb(0, 0, 0); font-size: 15px; font-weight: 700; padding : 2px 20px; 
                    font-family: 'Poppins', sans-serif; cursor: pointer; "
                        onclick="opentk();">+ Tennis Kids</a>
                    </li>


                    <li class="boutonm"><a style="cursor: pointer; background-color: rgba(7, 70, 90); box-shadow: -1px 1px 9px rgba(42, 168, 48, 0.233);
                        color: white; font-size: 16px; margin: 7px 12px; padding : 8px 20px; font-family: 'Poppins', sans-serif; border-radius: 8px;"
                        onclick="openhome();">+ Espace Licencié</a>
                    </li>
                    
                </ul>
            </div>
            
        </header>

        <section style="background-color: transparent; padding-bottom: 35px;" class="partenaire" id="partenaire">
            

            <div class="box">
                <b style="margin-top: 100px;">DOSSIER A FOURNIR</b>
                <b style="margin-top: 2px; font-size: 12px; color: rgb(25, 255, 167);" >PHOTO 4x4 / Recto CNI, passport / Verso ... </b>
            </div>


            <div class="slider_container" style="margin-top: 25px;" >
                <div class="itemserviced">
                    <img id="myimg" src="./design_files/images/maquette/picture.png" alt="image">
                </div>
                <div class="itemserviced">
                    <img id="myimgrecto" src="./design_files/images/maquette/recto.png" alt="image">
                </div>
                <div class="itemserviced">
                    <img id="myimgverso" src="./design_files/images/maquette/verso.png" alt="image">
                </div>
            </div>

        </section>
     
        <section style="border-radius: 13px; margin: 20px; background-color: white;" class="formulaire" id="formulaire" > 
            <div style="padding-top: 20px;" class="devisbloc ">

                <form name="formweb" action="">

                    <div class="form-wrapper">
                        <a style="color: rgb(2, 2, 32);" class="titleform">Nom(s) dans l'ordre *</a>
                        <input id="nomuser" style="border: 1px solid #d3d3d3; padding-left: 15px;" type="email" placeholder="Comme sur votre CNI" class="form-controla">
                    </div>

                    <div class="form-wrapper">
                        <a style="color: rgb(2, 2, 32);" class="titleform">prénom(s) dans l'ordre *</a>
                        <input id="prenomuser" style="border: 1px solid #d3d3d3; padding-left: 15px;" type="email" placeholder="Comme sur votre CNI" class="form-controla">
                    </div>

                    <div class="form-wrapper" style="margin-bottom: 1px;">
                        <a style="color: rgb(3, 53, 12);" class="titleform">Telephone * ( Ex : 698328283 )</a>
                        <input id="teluser" style="border: 1px solid #d3d3d3; padding-left: 15px;" type="email" placeholder="Entrez votre numéro de téléphone ..." class="form-controla">
                        <i class="zmdi zmdi zmdi-email" style="margin-right: 15px;"></i>
                    </div>

                    <div class="form-wrapper">
                        <a style="color: rgb(4, 4, 77);" class="titleform">Club d'appartenance *</a>
                        <input id="clubuser" style=" border: 1px solid #d3d3d3; padding-left: 15px;" type="email" placeholder="Ex: TC YAOUNDE " class="form-controla">
                    </div>

                    <div class="form-wrapper">
                        <a style="color: rgb(110, 36, 6);" class="titleform">Type de licence * </a>
                        <select id="selecttype" style="border-radius: 4px; margin-top: 10px; margin-bottom: 20px; width: 100%;
                        height: 35px;" onchange="addcat() ">
                            <option value="Choisissez">Choisissez votre categorie ici ...</option>
                            <option value="joueur">Joueur</option>
                            <option value="joueur">Joueuse</option>
                            <option value="arbitre">Arbitre</option>
                            <option value="entraineur">Entraineur</option>

                        </select>    
                    </div>

                    <div class="form-group container-login100-form-btn" style="margin-bottom: 20px;">
                        <button id="valider" style="border-radius: 6px; margin-top: 35px; background-color: rgb(8, 70, 90); color: rgb(255, 255, 255);
                              box-shadow: -1px 1px 9px #f4fa9bd2; " type="button" onclick="send()">
                            Envoyer
                            <i class="zmdi zmdi-arrow-right"></i>
                        </button>
                    </div>
        
                </form>

                    </lottie-player>
                    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
                    <lottie-player style=" margin-top: -5px;" class="lottiescript" id="lottieload" src="https://lottie.host/7d8680f1-08e2-48c5-b9c5-d85e94277409/h4XhZ3sxIH.json"
                     background="transparent" speed="1"  loop autoplay></lottie-player>


            </div>
        </section>

        <footer style="background-color: rgb(8, 70, 90);" class="footer" id="footer">
            <div class="container">
                <div class="row">
                    <div class="footer-col">
                        <h4>follow us : 6 94 93 76 01</h4>
               
                        <div class="social-links">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-likedin-in"></i></a>
                                
                        </div>
                    </div>
                
                </div>
            </div>
            <p class="copyrigth">Copyright © Tous droits réservés - KevDesign</p>

        </footer>
  
        <section class="indisponibletxt">
            <a style="color: white;" class="txtindis">Désole ce site est accessible uniquement sur des equipements mobiles ( smartphones, tablettes etc ... )</a>
        </section>


        <div class="whatsappid" id="myDiv"></div>

    </body>

    
    <script type="text/javascript">
        $(function () {
          $('#myDiv').floatingWhatsApp({
            phone: '237694937601',
            popupMessage: 'Comment pouvons nous vous aider?',
            showPopup: true,
            showOnIE: false,
            headerTitle: 'CamerTennis service!',
            headerColor: 'green',
            backgroundColor: 'green',
            position: 'right' ,
            size: '50px'
          });
          
        });
    </script>
           
    <script>


        var filesphoto = [];
        var filesrecto = [];
        var filesverso = [];
        var imgphoto;
        var imgrecto;
        var imgverso;
        var txtphoto = "nul";
        var txtrecto = "nul";
        var txtverso = "nul";
        var reader = new FileReader();
        var myimg = document.getElementById('myimg');
        var myimgrecto = document.getElementById('myimgrecto');
        var myimgverso = document.getElementById('myimgverso');
        var input = document.createElement('input');
        var i = 0;


        input.type = 'file';
        input.onchange = e => {

            if (i==1) {
                filesphoto = e.target.files;
                var extention = GetFileExt(filesphoto[0]);
                var name = GetFileName(filesphoto[0]);
                reader.readAsDataURL(filesphoto[0]);
                imgphoto = filesphoto[0];
                txtphoto = name+extention;
            }

            if (i==2) {
                filesrecto = e.target.files;
                var extention = GetFileExt(filesrecto[0]);
                var name = GetFileName(filesrecto[0]);
                reader.readAsDataURL(filesrecto[0]);
                imgrecto = filesrecto[0];
                txtrecto = name+extention;
            }

            if (i==3) {
                filesverso = e.target.files;
                var extention = GetFileExt(filesverso[0]);
                var name = GetFileName(filesverso[0]);
                reader.readAsDataURL(filesverso[0]);
                imgverso = filesverso[0];
                txtverso = name+extention;
            }
            
        }
        reader.onload = function(){
            if (i==1) {
                myimg.src = reader.result;
            }
            if (i==2) {
                myimgrecto.src = reader.result;
            }
            if (i==3) {
                myimgverso.src = reader.result;
            }
        }
        myimg.onclick = function() {
            i=1;
            input.click();
        }
        myimgrecto.onclick = function() {
            i=2;
            input.click();
        }
        myimgverso.onclick = function() {
            i=3;
            input.click();
        }
        function GetFileExt(file) {
            var temp = file.name.split('.');
            var ext = temp.slice((temp.length-1),(temp.length));
            return '.' + ext[0];
        }
        function GetFileName(file) {
            var temp = file.name.split('.');
            var fname = temp.slice(0,-1).join('.');
            return fname;
        }


        


        function savoirplus() {
            window.location.href = 'https://kevabcdigital.github.io/website/formulairelicence.html';
        }
        function j30douala() {
            window.location.href = 'https://kevabcdigital.github.io/website/j30douala.html';
        }
        function opengaroua() {
            window.location.href = 'https://kevabcdigital.github.io/website/garouasahel.html';
        }
        function opentk() {
            window.location.href = 'https://kevabcdigital.github.io/website/tenniskids.html';
        }
        function openhome() {
            window.location.href = 'https://kevabcdigital.github.io/website/programme.html';
        }













        const firebaseConfig = {
        databaseURL : "https://nlogagolf-ed63e-default-rtdb.asia-southeast1.firebasedatabase.app",
        apiKey: "AIzaSyCDKDeQxFPyVRMyMaxvcOFrxva2Fn7iKnw",
        authDomain: "nlogagolf-ed63e.firebaseapp.com",
        projectId: "nlogagolf-ed63e",
        storageBucket: "nlogagolf-ed63e.appspot.com",
        messagingSenderId: "104686743459",
        appId: "1:104686743459:web:c380b6e47ebb21d413f416",
        measurementId: "G-6BW97RHV89"
    };
    firebase.initializeApp(firebaseConfig)
   
   
    const database = firebase.database();

        function indisponible(){
            window.alert('DESOLE ! Ce formulaire sera opérationnel à partir du 15 Novembre 2023.');
        }


        function containsOnlyNumbers(str) {
            return /^\d+$/.test(str);
        }

        var typtxt = "choisissez";
        var load = document.getElementById("lottieload");

        function addcat(){
            var gettyp = document.getElementById("selecttype").value;
            typtxt = gettyp;
        }

        function send(){
            

        var nom = $('#nomuser').val().toLowerCase().trim();
        var prenom = $('#prenomuser').val().toLowerCase().trim();
        var tel = $('#teluser').val();
        var club = $('#clubuser').val().toLowerCase().trim();
        var i = 0;
        var n = 0;

        if ( nom != "" & tel != "" & club != "" & tel.length == 9 & ( containsOnlyNumbers(tel) == true ) 
             & typtxt != "choisissez" & txtphoto != "nul" & txtrecto != "nul" & txtverso != "nul" ) {

            
                load.style.display = "block";
                var play = (nom + " " + prenom) + " ( " + club + " ) " + " - cat : " + typtxt ;
                var dataRef = firebase.database().ref("licences").child(nom + " " + prenom);

                var rectourl = "nul";
                var versourl = "nul";
                var photourl = "nul";

                let storageRef = firebase.storage().ref("imageslicences/"+(nom + " " + prenom));
                let uploadTask = storageRef.child("photo").put(imgphoto);
                let uploadTaskrecto = storageRef.child("recto").put(imgrecto);
                let uploadTaskverso = storageRef.child("verso").put(imgverso);


                uploadTask.on("state_changed",(snapshot)=>{
                    console.log("photo add");
                },(error)=>{
                    load.style.display = "none";
                    window.alert("error ");
                },()=>{
                    uploadTask.snapshot.ref.getDownloadURL().then((url)=>{
                        if(url != "") {
                            photourl = url;
                            console.log(photourl);
                            



                            uploadTaskrecto.on("state_changed",(snapshot)=>{
                                console.log("recto add");
                            },(error)=>{
                                load.style.display = "none";
                                window.alert("error ");
                            },()=>{
                                uploadTaskrecto.snapshot.ref.getDownloadURL().then((url)=>{
                                    if(url != "") {
                                        rectourl = url;
                                        console.log(rectourl);




                                        uploadTaskverso.on("state_changed",(snapshot)=>{
                                            console.log("verso add");
                                        },(error)=>{
                                            load.style.display = "none";
                                            window.alert("error ");
                                        },()=>{
                                            uploadTaskverso.snapshot.ref.getDownloadURL().then((url)=>{
                                                if(url != "") {
                                                    versourl = url;
                                                    console.log(versourl);
                                                    
                                                    
                                                    
                                                    
                                                    dataRef.set({
                                                        'numero' : ("N° : Non Activé ...") ,
                                                        'nom' : ("Noms : " + nom.toUpperCase()) ,
                                                        'prenoms' : ("Prénoms : " + prenom) ,
                                                        'club' : ("Club / Ligue : " + club) ,
                                                        'born' : ("Né(e) le : Vérification en cours ...") ,
                                                        'qualite' : ("Qualité : " + typtxt) ,
                                                        'cni' : ("CNI : Non Activé ...") ,
                                                        'info' : (play) ,
                                                        'urluser' : (photourl) ,
                                                        'urlrecto' : (rectourl) ,
                                                        'urlverso' : (versourl)
                                                    }).then(()=>{
                                                        load.style.display = 'none';
                                                        window.alert("enregistrement reuissi. nous vous contacterons dans une date ulterieure au (" + tel + ") pour la suite des instructions et le paiement. Merci pour votre confiance !");
                                                        window.location.href = 'https://kevabcdigital.github.io/website/formulairelicence.html';                                                                                     
                                                    }).catch((error)=>{
                                                        load.style.display = 'none';
                                                        window.alert("erreur survenue : "+ error);
                                                    });
                                                }
                                            })
                                        });









                                            
                                    }
                                })
                            });








                                
                        }
                    })
                });
                




        } else if ( txtphoto == "nul" ) {
        window.alert("Veuillez ajouter votre photo de profil");
        } else if ( txtrecto == "nul" ) {
        window.alert("Veuillez ajouter une photo recto de la CNI , acte , passport ou autre piece d'identité");
        } else if ( txtverso == "nul" ) {
        window.alert("Veuillez ajouter une photo verso de la CNI , passport , autre piece d'identité ou une autre photo verso de l'acte");
        } else if ( nom == "" ) {
        window.alert("veuillez entrer votre nom complet comme ecrit sur l'acte de naissance...");
        } else if ( tel == "" ) {
        window.alert("Veuillez entrer votre numero de téléphone pour la suite des instructions...");
        } else if ( containsOnlyNumbers(tel) == false ) {
        window.alert("Veuillez entrer numero de téléphone correct et sans espace ...");
        } else if ( tel.length != 9 ) {
        window.alert("Veuillez entrer numero de téléphone à 09 chiffres ...");
        } else if ( club == "" ) {
            window.alert("Veuillez entrer votre club d'appartenance");
        } else if ( typtxt == "choisissez" ) {
            window.alert("Veuillez selectionner une catégorie");
        }

}


        


    </script>
    
   

</html>
